<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Git-Lesson</title>
    <link href="../assets/vendor/bootstrap.css" rel="stylesheet" />
    <link href="../assets/css/lesson.css" rel="stylesheet" />
    <script src="../assets/vendor/jquery-3.4.1.js"></script>
    <script src="../assets/vendor/bootstrap.bundle.js"></script>
    <script
      src="https://kit.fontawesome.com/49643727db.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body data-spy="scroll" data-target="#side-bar">
    <!-- Header -->
    <nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
      <a class="navbar-brand" href="../index.html">Gitを学ぼう</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbar-menu"
        aria-controls="navbar-menu"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-menu">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">トップページ</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./index.html">1.初級編</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../2_intermediate/index.html">2.中級編</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../3_advanced/index.html">3.上級編</a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- /Header -->
    <!-- Content -->
    <div class="container">
      <div class="row">
        <!-- SideBar -->
        <div class="col-md-4">
          <nav
            id="side-bar"
            class="navbar navbar-light bg-light flex-column position-fixed"
          >
            <a class="navbar-brand" href="#">1.初級編</a>
            <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="#g1-1">1-1.Gitの基本</a>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link ml-3" href="#g1-1-1">Gitとは</a>
                <a class="nav-link ml-3" href="#g1-1-2">
                  履歴を管理するリポジトリ
                </a>
                <a class="nav-link ml-3" href="#g1-1-3">
                  変更を記録するコミット
                </a>
                <a class="nav-link ml-3" href="#g1-1-4">
                  ワークキングツリーとインデックス
                </a>
                <a class="nav-link ml-3" href="#g1-1-5">
                  分散型管理システムと集中型<br />管理システムの違い
                </a>
              </nav>
              <a class="nav-link" href="#g1-2">1-2.リポジトリの共有</a>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link ml-3" href="#g1-2-1">
                  リモートリポジトリをクローンする
                </a>
                <a class="nav-link ml-3" href="#g1-2-2">
                  リモートリポジトリにプッシュする
                </a>
                <a class="nav-link ml-3" href="#g1-2-3">
                  リモートリポジトリからプルする
                </a>
              </nav>
              <a class="nav-link" href="#g1-3">1-3.変更履歴の統合</a>
              <nav class="nav nav-pills flex-column">
                <a class="nav-link ml-3" href="#g1-3-1">
                  変更履歴のマージ
                </a>
                <a class="nav-link ml-3" href="#g1-3-2">
                  競合の解消
                </a>
              </nav>
            </nav>
          </nav>
        </div>
        <!-- /SideBar -->

        <div class="col-md-8">
          <h1>1.初級編</h1>
          <h2 id="g1-1">1-1.Gitの基本</h2>
          <h3 id="g1-1-1">Gitとは</h3>
          <p>
            プログラムソースなどの変更履歴を管理する<strong>分散型バージョン管理システム</strong>(詳細は後述)の１つ
          </p>
          <img
            src="../assets/img/logo-git.png"
            class="img-fluid img-thumbnail"
            alt="Git"
          />
          <p class="pt-3">
            ファイルの編集などができ、変更管理をすることができる
          </p>
          <ul>
            <li>バージョン管理ができる</li>
            <li>変更内容をコメントと共に残すことができる</li>
            <li>誰がいつ変更したのか強制的に記録できる</li>
            <li>バージョン間の差分を確認できる</li>
            <li>過去の状態に戻すことができる</li>
            <li>複数の派生(ブランチ)を作ることができる</li>
          </ul>
          <h4>GitHubとGitLab</h4>
          <h5>GitHub</h5>
          <img
            src="../assets/img/logo-github.png"
            class="img-fluid img-thumbnail"
            alt="GitHub"
          />
          <ul>
            <li>Gitに、よりチーム開発に適した機能を付け加えたサービス</li>
            <li>
              プロジェクトの課題管理に使えるIssueや、コードレビューを効率化するPull
              Requestといった機能がWeb上から使える
            </li>
            <li>OSSの公開場所としても活用されている</li>
            <li>
              <a href="https://github.com" target="_blank" class="text-info">
                https://github.com
              </a>
            </li>
          </ul>
          <h5>GitLab</h5>
          <img
            src="../assets/img/logo-gitlab.png"
            class="img-fluid img-thumbnail"
            alt="GitLab"
          />
          <ul>
            <li>
              GitHubのRubyクローンで、GitHubライクなUIでgit管理を実現するOSS
            </li>
            <li>
              OSSを自前のサーバ上に構築することで利用可能(※GitHubには有償の商用サービスあり)
            </li>
            <li>
              セキュリティ等々の理由からクラウドサービス利用に制限がある場合、有効な選択肢となる
            </li>
          </ul>
          <h3 id="g1-1-2">履歴を管理するリポジトリ</h3>
          <p>
            リポジトリとは、<strong class="text-primary"
              >ファイルやディレクトリの状態を記録する場所</strong
            >
          </p>
          <p>
            変更履歴を管理したいディレクトリをリポジトリの管理下に置くことで、そのディレクトリ内のファイルやディレクトリの変更履歴を記録することができる
          </p>
          <img
            src="../assets/img/git-repository.png"
            class="img-fluid img-thumbnail"
            alt="リポジトリ"
          />
          <h4>リモートリポジトリとローカルリポジトリ</h4>
          <p>Gitにはリモートリポジトリとローカルリポジトリの２種類がある</p>
          <ul>
            <li>リモートリポジトリ</li>
            <p class="text-primary">
              サーバに配置して複数人で共有するためのリポジトリ
            </p>
            <li>ローカルリポジトリ</li>
            <p class="text-primary">自分のマシン上に配置するリポジトリ</p>
          </ul>
          <img
            src="../assets/img/git-repositories.png"
            class="img-fluid img-thumbnail"
            alt="リモートリポジトリとローカルリポジトリ"
          />
          <h3 id="g1-1-3">変更を記録するコミット</h3>
          <p>
            コミット[commit]とは、<strong class="text-primary"
              >ファイルやディレクトリの追加・変更をリポジトリに記録する操作</strong
            >
          </p>
          <p>
            コミットを実行すると、前回コミットから現在の状態までの差分を記録したコミット(またはリビジョン)と呼ばれるものが作成される
          </p>
          <p>
            このコミットは、時系列順につながった状態でリポジトリに格納されている<br />このコミットを最新からたどることで、過去の変更履歴やその内容を知ることができる
          </p>
          <img
            src="../assets/img/git-commit.png"
            class="img-fluid img-thumbnail"
            alt="コミット"
          />
          <p class="pt-3">
            コミットの実行時には、コミットメッセージの入力がが必須である<br />変更内容の要約、変更した理由（内容、詳細）などを記述する
          </p>
          <h3 id="g1-1-4">ワークキングツリーとインデックス</h3>
          <ul>
            <li>ワークキングツリー</li>
            <p class="text-primary">
              Gitの管理下に置かれた実際の作業ディレクトリ
            </p>
            <li>インデックス</li>
            <p class="text-primary">
              リポジトリにコミットする対象となるものを置く場所
            </p>
          </ul>
          <img
            src="../assets/img/git-index.png"
            class="img-fluid img-thumbnail"
            alt="ワークキングツリーとインデックス"
          />
          <p class="pt-3">
            コミットでファイルの状態を記録するためには、まずインデックスにファイルを登録する必要がある<br />この<strong
              class="text-primary"
              >インデックスにファイルを登録する操作</strong
            >は、アド[add]と呼ばれる
          </p>
          <p>
            インデックスを間に挟むことで、ワークツリー内の必要ないファイルを含めずにコミットを行ったり、ファイルの一部の変更だけをインデックスに登録してコミットすることができる
          </p>
          <h3 id="g1-1-5">分散型と集中型の違い</h3>
          <ul>
            <li>集中型バージョン管理システム</li>
            <ul>
              <li>CVSやSubversion(SVN)などが該当する</li>
              <li>ソースコードを管理する「リポジトリ」が全体で1つである</li>
              <li>
                そのため、開発者が増えるとそれぞれの変更箇所が競合するなど、リポジトリに不整合が起こることもある
              </li>
            </ul>
            <img
              src="../assets/img/version-centralized.png"
              class="img-fluid img-thumbnail"
              alt="集中型バージョン管理システム"
            />
            <li class="pt-3">分散型バージョン管理システム</li>
            <ul>
              <li>Gitが該当する</li>
              <li>
                全体を統括する「リモートリポジトリ」の他に、開発者ごとに「ローカルリポジトリ」を持つ仕組みになっている
              </li>
              <li>
                自分のマシンの中にあるローカルリポジトリに変更を記録し、しかるべきタイミングでリモートリポジトリに変更履歴をアップする
                <br />
                これにより、ネットワークが繋がらない環境でもバージョン管理ができ、全体の整合性を保ちやすくなった
              </li>
            </ul>
            <img
              src="../assets/img/version-ispersed.png"
              class="img-fluid img-thumbnail"
              alt="分散型バージョン管理システム"
            />
          </ul>
          <h2 id="g1-2">1-2.リポジトリの共有</h2>
          <h3 id="g1-2-1">リモートリポジトリをクローンする</h3>
          <p>
            クローン[clone]とは、<strong class="text-primary"
              >リモートリポジトリを複製してローカルリポジトリを作成する操作</strong
            >
          </p>
          <p>
            クローンを実行すると、リモートリポジトリの内容をまるごとダウンロードし、別のマシンにローカルリポジトリとして作成される
          </p>
          <h3 id="g1-2-2">リモートリポジトリにプッシュする</h3>
          <p>
            プッシュ[push]とは、<strong class="text-primary"
              >ローカルリポジトリの変更内容をリモートリポジトリに反映させる操作</strong
            >
          </p>
          <img
            src="../assets/img/git-push.png"
            class="img-fluid img-thumbnail"
            alt="プッシュ"
          />
          <h3 id="g1-2-3">リモートリポジトリからプルする</h3>
          <p>
            プル[pull]とは、<strong class="text-primary"
              >リモートリポジトリからローカルリポジトリを更新する操作</strong
            >
          </p>
          <p>
            リモートリポジトリから最新の変更履歴をダウンロードしてきて、自分のローカルリポジトリにその内容を取り込む
          </p>
          <img
            src="../assets/img/git-pull.png"
            class="img-fluid img-thumbnail"
            alt="プル"
          />
          <h2 id="g1-3">1-3.変更履歴の統合</h2>
          <h3 id="g1-3-1">変更履歴のマージ</h3>
          <img
            src="../assets/img/git-merge_1.png"
            class="img-fluid img-thumbnail"
            alt="マージ_1"
          />
          <p class="pt-3">
            最後のpullから次のpushまでにリモートリポジトリが更新されている場合、自分のpushが拒否される
          </p>
          <img
            src="../assets/img/git-merge_2.png"
            class="img-fluid img-thumbnail"
            alt="マージ_2"
          />
          <p class="pt-3">
            この場合、マージ[merge]という作業を行い他履歴での変更を取り込むまで自分のpushは拒否される<br />マージを行わないまま履歴を上書きしてしまうと他の変更(図中のコミットC)が失われてしまうため、このような仕様になっている
          </p>
          <h3 id="g1-3-2">競合の解消</h3>
          <p>
            マージを行うと、Gitが変更箇所を自動的に統合してくれる<br />しかし、自動で統合できない場合もある
          </p>
          <p>
            リモートリポジトリとローカルリポジトリでファイル内の同じ箇所を変更していた場合であり、これを競合(コンフリクト)と呼ぶ
          </p>
          <img
            src="../assets/img/git-confrict.png"
            class="img-fluid img-thumbnail"
            alt="コンフリクト"
          />
          <p class="pt-3">
            競合が発生した箇所は、Gitが図のようにファイルを修正するため、手動で修正する必要がある
          </p>
          <p>
            ==で区切られた上側がローカルリポジトリ、下側がリモートリポジトリの編集内容を表す<br />※40桁の英数字は、コミットのハッシュ値(IDのようなもの)
          </p>
        </div>
      </div>
      <a href="../2_intermediate/index.html" class="text-info float-right py-3"
        >2.中級編 <i class="fas fa-arrow-right"></i
      ></a>
    </div>
    <!-- /Content -->
  </body>
</html>
